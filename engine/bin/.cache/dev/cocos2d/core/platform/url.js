(function () {
    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
    var __module = nodeEnv ? module : { exports: {} };
    var __filename = 'engine-dev/cocos2d/core/platform/url.js';
    var __require = nodeEnv ? function (request) {
        return require(request);
    } : function (request) {
        return __quick_compile__.require(request, __filename);
    };
    function __define(exports, require, module) {
        if (!nodeEnv) {
            __quick_compile__.registerModule(__filename, module);
        }
                'use strict';
        cc.url = {
            _rawAssets: '',
            normalize: function normalize(url) {
                if (url) {
                    if (url.charCodeAt(0) === 46 && url.charCodeAt(1) === 47) {
                        url = url.slice(2);
                    } else if (url.charCodeAt(0) === 47) {
                        url = url.slice(1);
                    }
                }
                return url;
            },
            raw: function raw(url) {
                if (CC_EDITOR && !this._rawAssets) {
                    cc.errorID(7000);
                    return '';
                }
                url = this.normalize(url);
                if (!url.startsWith('resources/')) {
                    cc.errorID(CC_EDITOR ? 7001 : 7002, url);
                } else {
                    var uuid = cc.loader._getResUuid(url.slice(10), cc.Asset, null, true);
                    if (uuid) {
                        return cc.AssetLibrary.getLibUrlNoExt(uuid, true) + cc.path.extname(url);
                    }
                }
                return this._rawAssets + url;
            },
            _init: function _init(assets) {
                this._rawAssets = cc.path.stripSep(assets) + '/';
            }
        };
        module.exports = cc.url;
    }
    if (nodeEnv) {
        __define(__module.exports, __require, __module);
    } else {
        __quick_compile__.registerModuleFunc(__filename, function () {
            __define(__module.exports, __require, __module);
        });
    }
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVybC5qcyIsIi9Vc2Vycy96emYyMDE5L0Rlc2t0b3AvZGV2ZWxvcG1lbnQvc3VwcG9ydF9hc3RjL2VuZ2luZS9jb2NvczJkL2NvcmUvcGxhdGZvcm0vdXJsLmpzIl0sIm5hbWVzIjpbImNjIiwidXJsIiwiX3Jhd0Fzc2V0cyIsIm5vcm1hbGl6ZSIsImNoYXJDb2RlQXQiLCJzbGljZSIsInJhdyIsIkNDX0VESVRPUiIsImVycm9ySUQiLCJzdGFydHNXaXRoIiwidXVpZCIsImxvYWRlciIsIl9nZXRSZXNVdWlkIiwiQXNzZXQiLCJBc3NldExpYnJhcnkiLCJnZXRMaWJVcmxOb0V4dCIsInBhdGgiLCJleHRuYW1lIiwiX2luaXQiLCJhc3NldHMiLCJzdHJpcFNlcCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7SUFBQSxJQUFBLE9BQUEsR0FBQSxPQUFBLE9BQUEsS0FBQSxXQUFBLElBQUEsT0FBQSxPQUFBLEtBQUEsV0FBQTs7Ozs7Ozs7Ozs7OztRQThCQUEsRUFBQUEsQ0FBR0MsR0FBSEQsR0FBUztBQUFBLFlBUUxFLFVBQUFBLEVBQVksRUFSUDtBQUFBLFlBVUxDLFNBQUFBLEVBQVcsU0FBQSxTQUFBLENBQVVGLEdBQVYsRUFBZTtBQUFBLGdCQUN0QixJQUFJQSxHQUFKLEVBQVM7QUFBQSxvQkFDTCxJQUFJQSxHQUFBQSxDQUFJRyxVQUFKSCxDQUFlLENBQWZBLE1BQXNCLEVBQXRCQSxJQUE0QkEsR0FBQUEsQ0FBSUcsVUFBSkgsQ0FBZSxDQUFmQSxNQUFzQixFQUF0RCxFQUEwRDtBQUFBLHdCQUV0REEsR0FBQUEsR0FBTUEsR0FBQUEsQ0FBSUksS0FBSkosQ0FBVSxDQUFWQSxDQUFOQSxDQUZzRDtBQUFBLHFCQUExRCxNQUlLLElBQUlBLEdBQUFBLENBQUlHLFVBQUpILENBQWUsQ0FBZkEsTUFBc0IsRUFBMUIsRUFBOEI7QUFBQSx3QkFFL0JBLEdBQUFBLEdBQU1BLEdBQUFBLENBQUlJLEtBQUpKLENBQVUsQ0FBVkEsQ0FBTkEsQ0FGK0I7QUFBQSxxQkFMOUI7QUFBQSxpQkFEYTtBQUFBLGdCQVd0QixPQUFPQSxHQUFQLENBWHNCO0FBQUEsYUFWckI7QUFBQSxZQWdDTEssR0FBQUEsRUFBSyxTQUFBLEdBQUEsQ0FBVUwsR0FBVixFQUFlO0FBQUEsZ0JBQ2hCLElBQUlNLFNBQUFBLElBQWEsQ0FBQyxLQUFLTCxVQUF2QixFQUFtQztBQUFBLG9CQUMvQkYsRUFBQUEsQ0FBR1EsT0FBSFIsQ0FBVyxJQUFYQSxFQUQrQjtBQUFBLG9CQUUvQixPQUFPLEVBQVAsQ0FGK0I7QUFBQSxpQkFEbkI7QUFBQSxnQkFNaEJDLEdBQUFBLEdBQU0sS0FBS0UsU0FBTCxDQUFlRixHQUFmLENBQU5BLENBTmdCO0FBQUEsZ0JBUWhCLElBQUssQ0FBQ0EsR0FBQUEsQ0FBSVEsVUFBSlIsQ0FBZSxZQUFmQSxDQUFOLEVBQXFDO0FBQUEsb0JBQ2pDRCxFQUFBQSxDQUFHUSxPQUFIUixDQUFXTyxTQUFBQSxHQUFZLElBQVpBLEdBQW1CLElBQTlCUCxFQUFvQ0MsR0FBcENELEVBRGlDO0FBQUEsaUJBQXJDLE1BR0s7QUFBQSxvQkFFRCxJQUFJVSxJQUFBQSxHQUFPVixFQUFBQSxDQUFHVyxNQUFIWCxDQUFVWSxXQUFWWixDQUFzQkMsR0FBQUEsQ0FBSUksS0FBSkosQ0FBVSxFQUFWQSxDQUF0QkQsRUFBcUNBLEVBQUFBLENBQUdhLEtBQXhDYixFQUErQyxJQUEvQ0EsRUFBcUQsSUFBckRBLENBQVgsQ0FGQztBQUFBLG9CQUdELElBQUlVLElBQUosRUFBVTtBQUFBLHdCQUNOLE9BQU9WLEVBQUFBLENBQUdjLFlBQUhkLENBQWdCZSxjQUFoQmYsQ0FBK0JVLElBQS9CVixFQUFxQyxJQUFyQ0EsSUFBNkNBLEVBQUFBLENBQUdnQixJQUFIaEIsQ0FBUWlCLE9BQVJqQixDQUFnQkMsR0FBaEJELENBQXBELENBRE07QUFBQSxxQkFIVDtBQUFBLGlCQVhXO0FBQUEsZ0JBbUJoQixPQUFPLEtBQUtFLFVBQUwsR0FBa0JELEdBQXpCLENBbkJnQjtBQUFBLGFBaENmO0FBQUEsWUFzRExpQixLQUFBQSxFQUFPLFNBQUEsS0FBQSxDQUFVQyxNQUFWLEVBQWtCO0FBQUEsZ0JBQ3JCLEtBQUtqQixVQUFMLEdBQWtCRixFQUFBQSxDQUFHZ0IsSUFBSGhCLENBQVFvQixRQUFScEIsQ0FBaUJtQixNQUFqQm5CLElBQTJCLEdBQTdDLENBRHFCO0FBQUEsYUF0RHBCO0FBQUEsU0FBVEE7UUEyREFxQixNQUFBQSxDQUFPQyxPQUFQRCxHQUFpQnJCLEVBQUFBLENBQUdDLEdBQXBCb0IiLCJmaWxlIjoidXJsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNiBDaHVrb25nIFRlY2hub2xvZ2llcyBJbmMuXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXG4gIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiAgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXG5cbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIEBjbGFzcyB1cmxcbiAqIEBzdGF0aWNcbiAqL1xuY2MudXJsID0ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgdXJsIG9mIHJhdyBhc3NldHMuXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IF9yYXdBc3NldHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuICAgIF9yYXdBc3NldHM6ICcnLFxuICAgIFxuICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICBpZiAodXJsLmNoYXJDb2RlQXQoMCkgPT09IDQ2ICYmIHVybC5jaGFyQ29kZUF0KDEpID09PSA0Nykge1xuICAgICAgICAgICAgICAgIC8vIHN0cmlwICcuLydcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc2xpY2UoMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1cmwuY2hhckNvZGVBdCgwKSA9PT0gNDcpIHtcbiAgICAgICAgICAgICAgICAvLyBzdHJpcCAnLydcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc2xpY2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdXJsIG9mIHJhdyBhc3NldHMsIHlvdSB3aWxsIG9ubHkgbmVlZCB0aGlzIGlmIHRoZSByYXcgYXNzZXQgaXMgaW5zaWRlIHRoZSBcInJlc291cmNlc1wiIGZvbGRlci5cbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIHJhd1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGUge0BsaW5rIGNvY29zMmQvY29yZS9wbGF0Zm9ybS91cmwvcmF3LmpzfVxuICAgICAqL1xuICAgIHJhdzogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICBpZiAoQ0NfRURJVE9SICYmICF0aGlzLl9yYXdBc3NldHMpIHtcbiAgICAgICAgICAgIGNjLmVycm9ySUQoNzAwMCk7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB1cmwgPSB0aGlzLm5vcm1hbGl6ZSh1cmwpO1xuXG4gICAgICAgIGlmICggIXVybC5zdGFydHNXaXRoKCdyZXNvdXJjZXMvJykgKSB7XG4gICAgICAgICAgICBjYy5lcnJvcklEKENDX0VESVRPUiA/IDcwMDEgOiA3MDAyLCB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQ29tcGF0aWJsZSB3aXRoIHZlcnNpb25zIGxvd2VyIHRoYW4gMS4xMFxuICAgICAgICAgICAgdmFyIHV1aWQgPSBjYy5sb2FkZXIuX2dldFJlc1V1aWQodXJsLnNsaWNlKDEwKSwgY2MuQXNzZXQsIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgaWYgKHV1aWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2MuQXNzZXRMaWJyYXJ5LmdldExpYlVybE5vRXh0KHV1aWQsIHRydWUpICsgY2MucGF0aC5leHRuYW1lKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdBc3NldHMgKyB1cmw7XG4gICAgfSxcblxuICAgIF9pbml0OiBmdW5jdGlvbiAoYXNzZXRzKSB7XG4gICAgICAgIHRoaXMuX3Jhd0Fzc2V0cyA9IGNjLnBhdGguc3RyaXBTZXAoYXNzZXRzKSArICcvJztcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNjLnVybDtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNiBDaHVrb25nIFRlY2hub2xvZ2llcyBJbmMuXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXG4gIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXG4gIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcbiAgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXG5cbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIEBjbGFzcyB1cmxcbiAqIEBzdGF0aWNcbiAqL1xuY2MudXJsID0ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgdXJsIG9mIHJhdyBhc3NldHMuXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IF9yYXdBc3NldHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuICAgIF9yYXdBc3NldHM6ICcnLFxuXG4gICAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUodXJsKSB7XG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIGlmICh1cmwuY2hhckNvZGVBdCgwKSA9PT0gNDYgJiYgdXJsLmNoYXJDb2RlQXQoMSkgPT09IDQ3KSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgJy4vJ1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5zbGljZSgyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXJsLmNoYXJDb2RlQXQoMCkgPT09IDQ3KSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgJy8nXG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnNsaWNlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVybCBvZiByYXcgYXNzZXRzLCB5b3Ugd2lsbCBvbmx5IG5lZWQgdGhpcyBpZiB0aGUgcmF3IGFzc2V0IGlzIGluc2lkZSB0aGUgXCJyZXNvdXJjZXNcIiBmb2xkZXIuXG4gICAgICogXG4gICAgICogQG1ldGhvZCByYXdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlIHtAbGluayBjb2NvczJkL2NvcmUvcGxhdGZvcm0vdXJsL3Jhdy5qc31cbiAgICAgKi9cbiAgICByYXc6IGZ1bmN0aW9uIHJhdyh1cmwpIHtcbiAgICAgICAgaWYgKENDX0VESVRPUiAmJiAhdGhpcy5fcmF3QXNzZXRzKSB7XG4gICAgICAgICAgICBjYy5lcnJvcklEKDcwMDApO1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsID0gdGhpcy5ub3JtYWxpemUodXJsKTtcblxuICAgICAgICBpZiAoIXVybC5zdGFydHNXaXRoKCdyZXNvdXJjZXMvJykpIHtcbiAgICAgICAgICAgIGNjLmVycm9ySUQoQ0NfRURJVE9SID8gNzAwMSA6IDcwMDIsIHVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDb21wYXRpYmxlIHdpdGggdmVyc2lvbnMgbG93ZXIgdGhhbiAxLjEwXG4gICAgICAgICAgICB2YXIgdXVpZCA9IGNjLmxvYWRlci5fZ2V0UmVzVXVpZCh1cmwuc2xpY2UoMTApLCBjYy5Bc3NldCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAodXVpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYy5Bc3NldExpYnJhcnkuZ2V0TGliVXJsTm9FeHQodXVpZCwgdHJ1ZSkgKyBjYy5wYXRoLmV4dG5hbWUodXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9yYXdBc3NldHMgKyB1cmw7XG4gICAgfSxcblxuICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChhc3NldHMpIHtcbiAgICAgICAgdGhpcy5fcmF3QXNzZXRzID0gY2MucGF0aC5zdHJpcFNlcChhc3NldHMpICsgJy8nO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY2MudXJsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5WeWJDNXFjeUpkTENKdVlXMWxjeUk2V3lKall5SXNJblZ5YkNJc0lsOXlZWGRCYzNObGRITWlMQ0p1YjNKdFlXeHBlbVVpTENKamFHRnlRMjlrWlVGMElpd2ljMnhwWTJVaUxDSnlZWGNpTENKRFExOUZSRWxVVDFJaUxDSmxjbkp2Y2tsRUlpd2ljM1JoY25SelYybDBhQ0lzSW5WMWFXUWlMQ0pzYjJGa1pYSWlMQ0pmWjJWMFVtVnpWWFZwWkNJc0lrRnpjMlYwSWl3aVFYTnpaWFJNYVdKeVlYSjVJaXdpWjJWMFRHbGlWWEpzVG05RmVIUWlMQ0p3WVhSb0lpd2laWGgwYm1GdFpTSXNJbDlwYm1sMElpd2lZWE56WlhSeklpd2ljM1J5YVhCVFpYQWlMQ0p0YjJSMWJHVWlMQ0psZUhCdmNuUnpJbDBzSW0xaGNIQnBibWR6SWpvaU96dEJRVUZCT3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenRCUVRCQ1FUczdPenRCUVVsQlFTeEhRVUZIUXl4SFFVRklMRWRCUVZNN08wRkJSVXc3T3pzN096dEJRVTFCUXl4blFrRkJXU3hGUVZKUU96dEJRVlZNUXl4bFFVRlhMRzFDUVVGVlJpeEhRVUZXTEVWQlFXVTdRVUZEZEVJc1dVRkJTVUVzUjBGQlNpeEZRVUZUTzBGQlEwd3NaMEpCUVVsQkxFbEJRVWxITEZWQlFVb3NRMEZCWlN4RFFVRm1MRTFCUVhOQ0xFVkJRWFJDTEVsQlFUUkNTQ3hKUVVGSlJ5eFZRVUZLTEVOQlFXVXNRMEZCWml4TlFVRnpRaXhGUVVGMFJDeEZRVUV3UkR0QlFVTjBSRHRCUVVOQlNDeHpRa0ZCVFVFc1NVRkJTVWtzUzBGQlNpeERRVUZWTEVOQlFWWXNRMEZCVGp0QlFVTklMR0ZCU0VRc1RVRkpTeXhKUVVGSlNpeEpRVUZKUnl4VlFVRktMRU5CUVdVc1EwRkJaaXhOUVVGelFpeEZRVUV4UWl4RlFVRTRRanRCUVVNdlFqdEJRVU5CU0N4elFrRkJUVUVzU1VGQlNVa3NTMEZCU2l4RFFVRlZMRU5CUVZZc1EwRkJUanRCUVVOSU8wRkJRMG83UVVGRFJDeGxRVUZQU2l4SFFVRlFPMEZCUTBnc1MwRjBRa2s3TzBGQmQwSk1PenM3T3pzN096dEJRVkZCU3l4VFFVRkxMR0ZCUVZWTUxFZEJRVllzUlVGQlpUdEJRVU5vUWl4WlFVRkpUU3hoUVVGaExFTkJRVU1zUzBGQlMwd3NWVUZCZGtJc1JVRkJiVU03UVVGREwwSkdMR1ZCUVVkUkxFOUJRVWdzUTBGQlZ5eEpRVUZZTzBGQlEwRXNiVUpCUVU4c1JVRkJVRHRCUVVOSU96dEJRVVZFVUN4alFVRk5MRXRCUVV0RkxGTkJRVXdzUTBGQlpVWXNSMEZCWml4RFFVRk9PenRCUVVWQkxGbEJRVXNzUTBGQlEwRXNTVUZCU1ZFc1ZVRkJTaXhEUVVGbExGbEJRV1lzUTBGQlRpeEZRVUZ4UXp0QlFVTnFRMVFzWlVGQlIxRXNUMEZCU0N4RFFVRlhSQ3haUVVGWkxFbEJRVm9zUjBGQmJVSXNTVUZCT1VJc1JVRkJiME5PTEVkQlFYQkRPMEZCUTBnc1UwRkdSQ3hOUVVkTE8wRkJRMFE3UVVGRFFTeG5Ra0ZCU1ZNc1QwRkJUMVlzUjBGQlIxY3NUVUZCU0N4RFFVRlZReXhYUVVGV0xFTkJRWE5DV0N4SlFVRkpTU3hMUVVGS0xFTkJRVlVzUlVGQlZpeERRVUYwUWl4RlFVRnhRMHdzUjBGQlIyRXNTMEZCZUVNc1JVRkJLME1zU1VGQkwwTXNSVUZCY1VRc1NVRkJja1FzUTBGQldEdEJRVU5CTEdkQ1FVRkpTQ3hKUVVGS0xFVkJRVlU3UVVGRFRpeDFRa0ZCVDFZc1IwRkJSMk1zV1VGQlNDeERRVUZuUWtNc1kwRkJhRUlzUTBGQkswSk1MRWxCUVM5Q0xFVkJRWEZETEVsQlFYSkRMRWxCUVRaRFZpeEhRVUZIWjBJc1NVRkJTQ3hEUVVGUlF5eFBRVUZTTEVOQlFXZENhRUlzUjBGQmFFSXNRMEZCY0VRN1FVRkRTRHRCUVVOS096dEJRVVZFTEdWQlFVOHNTMEZCUzBNc1ZVRkJUQ3hIUVVGclFrUXNSMEZCZWtJN1FVRkRTQ3hMUVhCRVNUczdRVUZ6UkV4cFFpeFhRVUZQTEdWQlFWVkRMRTFCUVZZc1JVRkJhMEk3UVVGRGNrSXNZVUZCUzJwQ0xGVkJRVXdzUjBGQmEwSkdMRWRCUVVkblFpeEpRVUZJTEVOQlFWRkpMRkZCUVZJc1EwRkJhVUpFTEUxQlFXcENMRWxCUVRKQ0xFZEJRVGRETzBGQlEwZzdRVUY0UkVrc1EwRkJWRHM3UVVFeVJFRkZMRTlCUVU5RExFOUJRVkFzUjBGQmFVSjBRaXhIUVVGSFF5eEhRVUZ3UWlJc0ltWnBiR1VpT2lKMWNtd3Vhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lJdktpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLbHh1SUVOdmNIbHlhV2RvZENBb1l5a2dNakF4TXkweU1ERTJJRU5vZFd0dmJtY2dWR1ZqYUc1dmJHOW5hV1Z6SUVsdVl5NWNiaUJEYjNCNWNtbG5hSFFnS0dNcElESXdNVGN0TWpBeE9DQllhV0Z0Wlc0Z1dXRnFhU0JUYjJaMGQyRnlaU0JEYnk0c0lFeDBaQzVjYmx4dUlHaDBkSEJ6T2k4dmQzZDNMbU52WTI5ekxtTnZiUzljYmx4dUlGQmxjbTFwYzNOcGIyNGdhWE1nYUdWeVpXSjVJR2R5WVc1MFpXUXNJR1p5WldVZ2IyWWdZMmhoY21kbExDQjBieUJoYm5rZ2NHVnljMjl1SUc5aWRHRnBibWx1WnlCaElHTnZjSGxjYmlCdlppQjBhR2x6SUhOdlpuUjNZWEpsSUdGdVpDQmhjM052WTJsaGRHVmtJR1Z1WjJsdVpTQnpiM1Z5WTJVZ1kyOWtaU0FvZEdobElGd2lVMjltZEhkaGNtVmNJaWtzSUdFZ2JHbHRhWFJsWkN4Y2JpQWdkMjl5YkdSM2FXUmxMQ0J5YjNsaGJIUjVMV1p5WldVc0lHNXZiaTFoYzNOcFoyNWhZbXhsTENCeVpYWnZZMkZpYkdVZ1lXNWtJRzV2YmkxbGVHTnNkWE5wZG1VZ2JHbGpaVzV6WlZ4dUlIUnZJSFZ6WlNCRGIyTnZjeUJEY21WaGRHOXlJSE52YkdWc2VTQjBieUJrWlhabGJHOXdJR2RoYldWeklHOXVJSGx2ZFhJZ2RHRnlaMlYwSUhCc1lYUm1iM0p0Y3k0Z1dXOTFJSE5vWVd4c1hHNGdJRzV2ZENCMWMyVWdRMjlqYjNNZ1EzSmxZWFJ2Y2lCemIyWjBkMkZ5WlNCbWIzSWdaR1YyWld4dmNHbHVaeUJ2ZEdobGNpQnpiMlowZDJGeVpTQnZjaUIwYjI5c2N5QjBhR0YwSjNOY2JpQWdkWE5sWkNCbWIzSWdaR1YyWld4dmNHbHVaeUJuWVcxbGN5NGdXVzkxSUdGeVpTQnViM1FnWjNKaGJuUmxaQ0IwYnlCd2RXSnNhWE5vTENCa2FYTjBjbWxpZFhSbExGeHVJQ0J6ZFdKc2FXTmxibk5sTENCaGJtUXZiM0lnYzJWc2JDQmpiM0JwWlhNZ2IyWWdRMjlqYjNNZ1EzSmxZWFJ2Y2k1Y2JseHVJRlJvWlNCemIyWjBkMkZ5WlNCdmNpQjBiMjlzY3lCcGJpQjBhR2x6SUV4cFkyVnVjMlVnUVdkeVpXVnRaVzUwSUdGeVpTQnNhV05sYm5ObFpDd2dibTkwSUhOdmJHUXVYRzRnV0dsaGJXVnVJRmxoYW1rZ1UyOW1kSGRoY21VZ1EyOHVMQ0JNZEdRdUlISmxjMlZ5ZG1WeklHRnNiQ0J5YVdkb2RITWdibTkwSUdWNGNISmxjM05zZVNCbmNtRnVkR1ZrSUhSdklIbHZkUzVjYmx4dUlGUklSU0JUVDBaVVYwRlNSU0JKVXlCUVVrOVdTVVJGUkNCY0lrRlRJRWxUWENJc0lGZEpWRWhQVlZRZ1YwRlNVa0ZPVkZrZ1QwWWdRVTVaSUV0SlRrUXNJRVZZVUZKRlUxTWdUMUpjYmlCSlRWQk1TVVZFTENCSlRrTk1WVVJKVGtjZ1FsVlVJRTVQVkNCTVNVMUpWRVZFSUZSUElGUklSU0JYUVZKU1FVNVVTVVZUSUU5R0lFMUZVa05JUVU1VVFVSkpURWxVV1N4Y2JpQkdTVlJPUlZOVElFWlBVaUJCSUZCQlVsUkpRMVZNUVZJZ1VGVlNVRTlUUlNCQlRrUWdUazlPU1U1R1VrbE9SMFZOUlU1VUxpQkpUaUJPVHlCRlZrVk9WQ0JUU0VGTVRDQlVTRVZjYmlCQlZWUklUMUpUSUU5U0lFTlBVRmxTU1VkSVZDQklUMHhFUlZKVElFSkZJRXhKUVVKTVJTQkdUMUlnUVU1WklFTk1RVWxOTENCRVFVMUJSMFZUSUU5U0lFOVVTRVZTWEc0Z1RFbEJRa2xNU1ZSWkxDQlhTRVZVU0VWU0lFbE9JRUZPSUVGRFZFbFBUaUJQUmlCRFQwNVVVa0ZEVkN3Z1ZFOVNWQ0JQVWlCUFZFaEZVbGRKVTBVc0lFRlNTVk5KVGtjZ1JsSlBUU3hjYmlCUFZWUWdUMFlnVDFJZ1NVNGdRMDlPVGtWRFZFbFBUaUJYU1ZSSUlGUklSU0JUVDBaVVYwRlNSU0JQVWlCVVNFVWdWVk5GSUU5U0lFOVVTRVZTSUVSRlFVeEpUa2RUSUVsT1hHNGdWRWhGSUZOUFJsUlhRVkpGTGx4dUlDb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW9xS2lvcUtpb3FLaW92WEc1Y2JpOHFLbHh1SUNvZ1FHTnNZWE56SUhWeWJGeHVJQ29nUUhOMFlYUnBZMXh1SUNvdlhHNWpZeTUxY213Z1BTQjdYRzVjYmlBZ0lDQXZLaXBjYmlBZ0lDQWdLaUJVYUdVZ1ltRnpaU0IxY213Z2IyWWdjbUYzSUdGemMyVjBjeTVjYmlBZ0lDQWdLaUJBY0hKdmNHVnlkSGtnZTA5aWFtVmpkSDBnWDNKaGQwRnpjMlYwYzF4dUlDQWdJQ0FxSUVCd2NtbDJZWFJsWEc0Z0lDQWdJQ29nUUhKbFlXUlBibXg1WEc0Z0lDQWdJQ292WEc0Z0lDQWdYM0poZDBGemMyVjBjem9nSnljc1hHNGdJQ0FnWEc0Z0lDQWdibTl5YldGc2FYcGxPaUJtZFc1amRHbHZiaUFvZFhKc0tTQjdYRzRnSUNBZ0lDQWdJR2xtSUNoMWNtd3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2gxY213dVkyaGhja052WkdWQmRDZ3dLU0E5UFQwZ05EWWdKaVlnZFhKc0xtTm9ZWEpEYjJSbFFYUW9NU2tnUFQwOUlEUTNLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk4Z2MzUnlhWEFnSnk0dkoxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIVnliQ0E5SUhWeWJDNXpiR2xqWlNneUtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ0lDQWdJR1ZzYzJVZ2FXWWdLSFZ5YkM1amFHRnlRMjlrWlVGMEtEQXBJRDA5UFNBME55a2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQzh2SUhOMGNtbHdJQ2N2SjF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhWeWJDQTlJSFZ5YkM1emJHbGpaU2d4S1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnZFhKc08xeHVJQ0FnSUgwc1hHNWNiaUFnSUNBdktpcGNiaUFnSUNBZ0tpQlNaWFIxY201eklIUm9aU0IxY213Z2IyWWdjbUYzSUdGemMyVjBjeXdnZVc5MUlIZHBiR3dnYjI1c2VTQnVaV1ZrSUhSb2FYTWdhV1lnZEdobElISmhkeUJoYzNObGRDQnBjeUJwYm5OcFpHVWdkR2hsSUZ3aWNtVnpiM1Z5WTJWelhDSWdabTlzWkdWeUxseHVJQ0FnSUNBcUlGeHVJQ0FnSUNBcUlFQnRaWFJvYjJRZ2NtRjNYRzRnSUNBZ0lDb2dRSEJoY21GdElIdFRkSEpwYm1kOUlIVnliRnh1SUNBZ0lDQXFJRUJ5WlhSMWNtNGdlMU4wY21sdVozMWNiaUFnSUNBZ0tpQkFaWGhoYlhCc1pTQjdRR3hwYm1zZ1kyOWpiM015WkM5amIzSmxMM0JzWVhSbWIzSnRMM1Z5YkM5eVlYY3Vhbk45WEc0Z0lDQWdJQ292WEc0Z0lDQWdjbUYzT2lCbWRXNWpkR2x2YmlBb2RYSnNLU0I3WEc0Z0lDQWdJQ0FnSUdsbUlDaERRMTlGUkVsVVQxSWdKaVlnSVhSb2FYTXVYM0poZDBGemMyVjBjeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdZMk11WlhKeWIzSkpSQ2czTURBd0tUdGNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUFuSnp0Y2JpQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQWdJSFZ5YkNBOUlIUm9hWE11Ym05eWJXRnNhWHBsS0hWeWJDazdYRzVjYmlBZ0lDQWdJQ0FnYVdZZ0tDQWhkWEpzTG5OMFlYSjBjMWRwZEdnb0ozSmxjMjkxY21ObGN5OG5LU0FwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR05qTG1WeWNtOXlTVVFvUTBOZlJVUkpWRTlTSUQ4Z056QXdNU0E2SURjd01ESXNJSFZ5YkNrN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdaV3h6WlNCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCRGIyMXdZWFJwWW14bElIZHBkR2dnZG1WeWMybHZibk1nYkc5M1pYSWdkR2hoYmlBeExqRXdYRzRnSUNBZ0lDQWdJQ0FnSUNCMllYSWdkWFZwWkNBOUlHTmpMbXh2WVdSbGNpNWZaMlYwVW1WelZYVnBaQ2gxY213dWMyeHBZMlVvTVRBcExDQmpZeTVCYzNObGRDd2diblZzYkN3Z2RISjFaU2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnBaaUFvZFhWcFpDa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQmpZeTVCYzNObGRFeHBZbkpoY25rdVoyVjBUR2xpVlhKc1RtOUZlSFFvZFhWcFpDd2dkSEoxWlNrZ0t5QmpZeTV3WVhSb0xtVjRkRzVoYldVb2RYSnNLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0JjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJSFJvYVhNdVgzSmhkMEZ6YzJWMGN5QXJJSFZ5YkR0Y2JpQWdJQ0I5TEZ4dVhHNGdJQ0FnWDJsdWFYUTZJR1oxYm1OMGFXOXVJQ2hoYzNObGRITXBJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NWZjbUYzUVhOelpYUnpJRDBnWTJNdWNHRjBhQzV6ZEhKcGNGTmxjQ2hoYzNObGRITXBJQ3NnSnk4bk8xeHVJQ0FnSUgxY2JuMDdYRzVjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnWTJNdWRYSnNPMXh1SWwxOSJdfQ==